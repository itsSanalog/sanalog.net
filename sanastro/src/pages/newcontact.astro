---
import "../styles/normalize.css";

import Head from "../components/Head.astro";
---

<html lang="en">
  <Head title="Contact" />
  <body>
    <main id="terminal">
      <pre>{
` .:#######:  .:####:.    .:####:.    .:####:.   #####:        :#####:     .###     
.#########: .#########  .#########  .#########  #####:       #########.  #####     
##########: ##########. ##########. ##########. #####:      :#########: .#####     
##########. ##########: ##########: ##########: ##########: :#########: .##########
##########  .#########: ##########: .#########: ##########:  #########.  #########.
########.    .:#######: ##########:  .:#######: ##########:   :#####:     .#####:.   

 __________________________________________________________________________
/                                                                          \\
|  [SYSTEM] : CONTACT_REACHABLE ......................... [OK]             |
|  [DATE]   : ${new Date().toLocaleDateString()}                                                   |
\\__________________________________________________________________________/
`}

<span class="glitch">(C) 2026 SNLG_ARCHIVE | ALL_CHARS_RESERVED</span>

{`
▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒░░░░  ░░░  ░ ░     ░░░░░░░▒▒░░░░ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░▓▒░░░░░░░  ░░░░░░░░░░░░▒░░░░░░░░▒░░░░░░░   ░▒░▓▓▓▓▓▒▒▓▓▒░░░░░░░░░░░░░░░░░░░░░░░░▒▓▓▒▓▓▓▓▓▓▓▓ ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓                      

_123456789012345678901234567890123456789_123456789012345678901234567890123456789_123456789012345678901234567890123456789_123456789012345678901234567890123456789_123456789012345678901234567890123456789_12345678901234567`}
      </pre>
    </main>
  </body>
</html>

<script>
  const chars = ".,-_~+:;=*π'\"┐┌┘└┼├┤┴┬│╗╔╝╚╬╠╣╩╦║░▒▓█▄▀▌▐■!?&#$@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789%()";
  const EFFECT_RADIUS = 20; // Pixels
  const ANIMATION_SPEED = 12; // ms per frame
  const activatingSpans = new Set();
  let mouseX = 0;
  let mouseY = 0;

  document.querySelectorAll('.glitch').forEach(block => {
    const originalText = block.innerText;
    block.innerHTML = '';
    
    originalText.split('').forEach(char => {
      const span = document.createElement('span');  
      span.innerText = char;
      span.dataset.char = char;
      span.style.display = 'inline';
      block.appendChild(span);
    });
  });

  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    
    document.querySelectorAll('.glitch span').forEach(span => {
      const rect = span.getBoundingClientRect();
      const spanCenterX = rect.left + rect.width / 2;
      const spanCenterY = rect.top + rect.height / 2;
      const distance = Math.sqrt(
        Math.pow(mouseX - spanCenterX, 2) + Math.pow(mouseY - spanCenterY, 2)
      );
      
      if (distance < EFFECT_RADIUS) {
        activatingSpans.add(span);
        if (!span.interval) {
          scrambleLetter(span);
        }
      }
    });
  });

  function scrambleLetter(span) {
    const targetChar = span.dataset.char;
    
    if (!chars.includes(targetChar)) return;
    
    let index = 0;
    
    span.interval = setInterval(() => {
      span.innerText = chars[index];
      
      if (chars[index] === targetChar) {
        clearInterval(span.interval);
        span.interval = null;
        activatingSpans.delete(span);
      }
      
      index = (index + 1) % chars.length;
    }, ANIMATION_SPEED);
  }

</script>

<style>
  @font-face {
    font-family: 'IBM-BIOS';
    src: url('/fonts/IBM-BIOS.ttf') format('truetype');
    font-display: swap;
  }

  :root {
    --bg: #000000;
    --text: rgb(255, 208, 0);
    --columns: 200;
    --ratio: 0.555; /* perfect for 2000 char excluding scrollbar */
  }
  
  ::selection {
    background: var(--text);
    color: var(--bg);
  }

  ::-webkit-scrollbar {
    width: 1rem;
  }

  ::-webkit-scrollbar-track {
    background-color: var(--bg);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--text);
  }

  body {
    overflow-x: hidden;
    background: var(--bg);
    color: var(--text);
  }
  
  #terminal {
    width: 100%;
  }
  
  pre {
    font-family: IBM-BIOS, monospace;    
    margin: 0;
    width: 100%;
    font-size: calc(100vw / (var(--columns) * var(--ratio)));
    line-height: 1;
    letter-spacing: 0px;
  }

  .glitch {
    color: var(--bg);
    background: var(--text);
    text-decoration: none;
    transition: background 0.3s;
    /* cursor: crosshair; */
  }

  .glitch:hover {
    background: var(--bg);
    color: var(--text);
  }

</style>